import{u as b,c as h,b as N,j as e,k as j}from"./index-BUwxZ0dz.js";import{u as g}from"./useEmailValidator-BIzpjTAT.js";const w=()=>{const n=b(),m=h(),[a,d]=N.useState({firstName:"",lastName:"",email:"",password:"",phone:""}),{validateEmail:o,available:s,checking:c,error:i}=g(),u=async r=>{if(r.preventDefault(),s===!1){alert("Email is already taken");return}try{await n(j(a)).unwrap(),m("/")}catch(t){console.error("Registration failed:",t)}},l=r=>{const{name:t,value:x}=r.target;d(p=>({...p,[t]:x}))};return e.jsxs("div",{className:"max-w-md mx-auto mt-10 p-6 bg-white rounded shadow",children:[e.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Register"}),e.jsxs("form",{onSubmit:u,children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block mb-2",children:"First Name"}),e.jsx("input",{type:"text",name:"firstName",value:a.firstName,onChange:l,className:"w-full p-2 border rounded",required:!0})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block mb-2",children:"Last Name"}),e.jsx("input",{type:"text",name:"lastName",value:a.lastName,onChange:l,className:"w-full p-2 border rounded",required:!0})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block mb-2",children:"Email"}),e.jsx("input",{type:"email",name:"email",value:a.email,onChange:l,onBlur:()=>o(a.email),className:`w-full p-2 border rounded ${s===!1?"border-red-500":s===!0?"border-green-500":""}`,required:!0}),c&&e.jsx("p",{className:"text-sm text-blue-500",children:"Checking email..."}),s===!1&&e.jsx("p",{className:"text-sm text-red-500",children:"Email already exists"}),s===!0&&e.jsx("p",{className:"text-sm text-green-600",children:"Email is available"}),i&&e.jsx("p",{className:"text-sm text-red-400",children:i})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block mb-2",children:"Password"}),e.jsx("input",{type:"password",name:"password",value:a.password,onChange:l,className:"w-full p-2 border rounded",required:!0})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block mb-2",children:"Phone (Optional)"}),e.jsx("input",{type:"tel",name:"phone",value:a.phone,onChange:l,className:"w-full p-2 border rounded"})]}),e.jsx("button",{type:"submit",className:"w-full bg-gray-500 text-white py-2 px-4 rounded hover:bg-gray-600",children:"Register"})]})]})};export{w as default};
