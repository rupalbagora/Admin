import{u,c as x,a as h,b as r,d as m,j as t}from"./index-BUwxZ0dz.js";import{c as f}from"./createLucideIcon-COr_ZPJt.js";/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],g=f("loader-circle",p),y=()=>{const l=u(),s=x(),{user:e,loading:o}=h(a=>a.auth),[i,n]=r.useState(!0),[d,c]=r.useState("Checking your access...");return r.useEffect(()=>{e||l(m())},[e,l]),r.useEffect(()=>{if(o)return;let a;return e?(e.role==="admin"||e.role==="staff")&&!e.isActive?(c("Your subscription is inactive. Please contact support."),n(!1)):(c(`Redirecting to your ${e.role} dashboard...`),a=setTimeout(()=>{switch(e.role){case"superadmin":s("/super-admin",{replace:!0});break;case"admin":s("/admin",{replace:!0});break;case"user":s("/user",{replace:!0});break;case"staff":s("/staff",{replace:!0});break;case"student":s("/student",{replace:!0});break;default:s("/unauthorized",{replace:!0});break}},1e3)):(c("No user detected. Redirecting to login..."),a=setTimeout(()=>s("/login",{replace:!0}),2e3)),()=>clearTimeout(a)},[e,o,s]),t.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 flex flex-col items-center justify-center p-6",children:[t.jsx("div",{className:"w-full max-w-md bg-white rounded-xl shadow-lg p-8 transition-all duration-300 hover:shadow-xl",children:t.jsxs("div",{className:"flex flex-col items-center space-y-6",children:[t.jsxs("div",{className:"relative",children:[t.jsx("div",{className:"h-16 w-16 rounded-full bg-gray-100 flex items-center justify-center",children:i?t.jsx(g,{className:"h-8 w-8 text-gray-600 animate-spin"}):t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-gray-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),t.jsx("div",{className:"absolute -bottom-2 -right-2 bg-gray-600 text-white rounded-full h-6 w-6 flex items-center justify-center text-xs font-bold",children:e!=null&&e.role?e.role.charAt(0).toUpperCase():"?"})]}),t.jsxs("div",{className:"text-center space-y-2",children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:d}),t.jsx("p",{className:"text-gray-500",children:i?"Please wait while we verify your credentials":e!=null&&e.isActive?`Redirecting to your ${(e==null?void 0:e.role)||""} dashboard...`:"Your account is inactive. Please contact support."})]}),t.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:t.jsx("div",{className:`bg-gray-600 h-2.5 rounded-full transition-all duration-1000 ${i?"w-3/4":"w-full"}`})})]})}),t.jsxs("p",{className:"mt-8 text-sm text-gray-500 text-center",children:["Having trouble?"," ",t.jsx("a",{href:"#",className:"text-gray-600 hover:underline",children:"Contact support"})]})]})};export{y as default};
