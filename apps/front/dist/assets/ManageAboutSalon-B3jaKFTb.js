import{b as n,z as Ce,j as x,u as wt,a as Ct,a7 as je,a8 as St,a9 as xt,aa as bt}from"./index-BUwxZ0dz.js";import{v as It,k as yt,R as Rt,F as ye,I as Ve,B as Re}from"./index-D91Dgcjk.js";import{T as ot,R as Mt}from"./EditOutlined-BMN32wtQ.js";import{R as nt}from"./InfoCircleOutlined-BXqNngfG.js";import{b as xe,c as Ye,d as Xe,U as Et,F as Ot,P as Nt,R as Tt}from"./DeleteOutlined-CY-A2Q_x.js";import{R as Pt}from"./UploadOutlined-BZUwM306.js";import{c as ne,f as ce,a5 as jt,a6 as Lt,A as P,K as Fe,e as F,a7 as kt,w as $t,_ as Ie,z as At,B as at,d as Ze,Y as Me,g as _t,m as qe,F as Se,X as zt,u as rt,a8 as Dt,i as Yt,n as it,a1 as st,a9 as ke,a as Xt,s as he,C as Ft}from"./AntdIcon-D9VCaoNQ.js";import{D as Zt,g as Ht,i as Bt,M as Vt}from"./index-HnUezucs.js";import{S as Ke}from"./index-DenBw2B0.js";import{R as Wt}from"./ReloadOutlined-aA4FmXlz.js";import{R as Ut}from"./PlusOutlined-05gYRiNT.js";import{_ as ae}from"./objectWithoutPropertiesLoose-k0w7FEql.js";function lt(){var t=document.documentElement.clientWidth,e=window.innerHeight||document.documentElement.clientHeight;return{width:t,height:e}}function Gt(t){var e=t.getBoundingClientRect(),o=document.documentElement;return{left:e.left+(window.pageXOffset||o.scrollLeft)-(o.clientLeft||document.body.clientLeft||0),top:e.top+(window.pageYOffset||o.scrollTop)-(o.clientTop||document.body.clientTop||0)}}var Ee=n.createContext(null),qt=function(e){var o=e.visible,a=e.maskTransitionName,r=e.getContainer,i=e.prefixCls,u=e.rootClassName,s=e.icons,l=e.countRender,m=e.showSwitch,g=e.showProgress,f=e.current,S=e.transform,p=e.count,w=e.scale,b=e.minScale,I=e.maxScale,c=e.closeIcon,R=e.onActive,E=e.onClose,N=e.onZoomIn,d=e.onZoomOut,y=e.onRotateRight,C=e.onRotateLeft,v=e.onFlipX,M=e.onFlipY,O=e.onReset,h=e.toolbarRender,T=e.zIndex,L=e.image,j=n.useContext(Ee),z=s.rotateLeft,Y=s.rotateRight,H=s.zoomIn,W=s.zoomOut,Q=s.close,V=s.left,U=s.right,J=s.flipX,G=s.flipY,se="".concat(i,"-operations-operation");n.useEffect(function(){var $=function(_){_.keyCode===Fe.ESC&&E()};return o&&window.addEventListener("keydown",$),function(){window.removeEventListener("keydown",$)}},[o]);var ee=function(A,_){A.preventDefault(),A.stopPropagation(),R(_)},D=n.useCallback(function($){var A=$.type,_=$.disabled,B=$.onClick,X=$.icon;return n.createElement("div",{key:A,className:ne(se,"".concat(i,"-operations-operation-").concat(A),ce({},"".concat(i,"-operations-operation-disabled"),!!_)),onClick:B},X)},[se,i]),le=m?D({icon:V,onClick:function(A){return ee(A,-1)},type:"prev",disabled:f===0}):void 0,te=m?D({icon:U,onClick:function(A){return ee(A,1)},type:"next",disabled:f===p-1}):void 0,q=D({icon:G,onClick:M,type:"flipY"}),k=D({icon:J,onClick:v,type:"flipX"}),re=D({icon:z,onClick:C,type:"rotateLeft"}),Z=D({icon:Y,onClick:y,type:"rotateRight"}),K=D({icon:W,onClick:d,type:"zoomOut",disabled:w<=b}),ie=D({icon:H,onClick:N,type:"zoomIn",disabled:w===I}),ue=n.createElement("div",{className:"".concat(i,"-operations")},q,k,re,Z,K,ie);return n.createElement(jt,{visible:o,motionName:a},function($){var A=$.className,_=$.style;return n.createElement(Lt,{open:!0,getContainer:r??document.body},n.createElement("div",{className:ne("".concat(i,"-operations-wrapper"),A,u),style:P(P({},_),{},{zIndex:T})},c===null?null:n.createElement("button",{className:"".concat(i,"-close"),onClick:E},c||Q),m&&n.createElement(n.Fragment,null,n.createElement("div",{className:ne("".concat(i,"-switch-left"),ce({},"".concat(i,"-switch-left-disabled"),f===0)),onClick:function(X){return ee(X,-1)}},V),n.createElement("div",{className:ne("".concat(i,"-switch-right"),ce({},"".concat(i,"-switch-right-disabled"),f===p-1)),onClick:function(X){return ee(X,1)}},U)),n.createElement("div",{className:"".concat(i,"-footer")},g&&n.createElement("div",{className:"".concat(i,"-progress")},l?l(f+1,p):n.createElement("bdi",null,"".concat(f+1," / ").concat(p))),h?h(ue,P(P({icons:{prevIcon:le,nextIcon:te,flipYIcon:q,flipXIcon:k,rotateLeftIcon:re,rotateRightIcon:Z,zoomOutIcon:K,zoomInIcon:ie},actions:{onActive:R,onFlipY:M,onFlipX:v,onRotateLeft:C,onRotateRight:y,onZoomOut:d,onZoomIn:N,onReset:O,onClose:E},transform:S},j?{current:f,total:p}:{}),{},{image:L})):ue)))})},Le={x:0,y:0,rotate:0,scale:1,flipX:!1,flipY:!1};function Kt(t,e,o,a){var r=n.useRef(null),i=n.useRef([]),u=n.useState(Le),s=F(u,2),l=s[0],m=s[1],g=function(w){m(Le),kt(Le,l)||a==null||a({transform:Le,action:w})},f=function(w,b){r.current===null&&(i.current=[],r.current=$t(function(){m(function(I){var c=I;return i.current.forEach(function(R){c=P(P({},c),R)}),r.current=null,a==null||a({transform:c,action:b}),c})})),i.current.push(P(P({},l),w))},S=function(w,b,I,c,R){var E=t.current,N=E.width,d=E.height,y=E.offsetWidth,C=E.offsetHeight,v=E.offsetLeft,M=E.offsetTop,O=w,h=l.scale*w;h>o?(h=o,O=o/l.scale):h<e&&(h=R?h:e,O=h/l.scale);var T=I??innerWidth/2,L=c??innerHeight/2,j=O-1,z=j*N*.5,Y=j*d*.5,H=j*(T-l.x-v),W=j*(L-l.y-M),Q=l.x-(H-z),V=l.y-(W-Y);if(w<1&&h===1){var U=y*h,J=C*h,G=lt(),se=G.width,ee=G.height;U<=se&&J<=ee&&(Q=0,V=0)}f({x:Q,y:V,scale:h},b)};return{transform:l,resetTransform:g,updateTransform:f,dispatchZoomChange:S}}function Qe(t,e,o,a){var r=e+o,i=(o-a)/2;if(o>a){if(e>0)return ce({},t,i);if(e<0&&r<a)return ce({},t,-i)}else if(e<0||r>a)return ce({},t,e<0?i:-i);return{}}function ct(t,e,o,a){var r=lt(),i=r.width,u=r.height,s=null;return t<=i&&e<=u?s={x:0,y:0}:(t>i||e>u)&&(s=P(P({},Qe("x",o,t,i)),Qe("y",a,e,u))),s}var be=1,Qt=1;function Jt(t,e,o,a,r,i,u){var s=r.rotate,l=r.scale,m=r.x,g=r.y,f=n.useState(!1),S=F(f,2),p=S[0],w=S[1],b=n.useRef({diffX:0,diffY:0,transformX:0,transformY:0}),I=function(d){!e||d.button!==0||(d.preventDefault(),d.stopPropagation(),b.current={diffX:d.pageX-m,diffY:d.pageY-g,transformX:m,transformY:g},w(!0))},c=function(d){o&&p&&i({x:d.pageX-b.current.diffX,y:d.pageY-b.current.diffY},"move")},R=function(){if(o&&p){w(!1);var d=b.current,y=d.transformX,C=d.transformY,v=m!==y&&g!==C;if(!v)return;var M=t.current.offsetWidth*l,O=t.current.offsetHeight*l,h=t.current.getBoundingClientRect(),T=h.left,L=h.top,j=s%180!==0,z=ct(j?O:M,j?M:O,T,L);z&&i(P({},z),"dragRebound")}},E=function(d){if(!(!o||d.deltaY==0)){var y=Math.abs(d.deltaY/100),C=Math.min(y,Qt),v=be+C*a;d.deltaY>0&&(v=be/v),u(v,"wheel",d.clientX,d.clientY)}};return n.useEffect(function(){var N,d,y,C;if(e){y=xe(window,"mouseup",R,!1),C=xe(window,"mousemove",c,!1);try{window.top!==window.self&&(N=xe(window.top,"mouseup",R,!1),d=xe(window.top,"mousemove",c,!1))}catch{}}return function(){var v,M,O,h;(v=y)===null||v===void 0||v.remove(),(M=C)===null||M===void 0||M.remove(),(O=N)===null||O===void 0||O.remove(),(h=d)===null||h===void 0||h.remove()}},[o,p,m,g,s,e]),{isMoving:p,onMouseDown:I,onMouseMove:c,onMouseUp:R,onWheel:E}}function eo(t){return new Promise(function(e){if(!t){e(!1);return}var o=document.createElement("img");o.onerror=function(){return e(!1)},o.onload=function(){return e(!0)},o.src=t})}function ut(t){var e=t.src,o=t.isCustomPlaceholder,a=t.fallback,r=n.useState(o?"loading":"normal"),i=F(r,2),u=i[0],s=i[1],l=n.useRef(!1),m=u==="error";n.useEffect(function(){var p=!0;return eo(e).then(function(w){!w&&p&&s("error")}),function(){p=!1}},[e]),n.useEffect(function(){o&&!l.current?s("loading"):m&&s("normal")},[e]);var g=function(){s("normal")},f=function(w){l.current=!1,u==="loading"&&w!==null&&w!==void 0&&w.complete&&(w.naturalWidth||w.naturalHeight)&&(l.current=!0,g())},S=m&&a?{src:a}:{onLoad:g,src:e};return[f,S,u]}function $e(t,e){var o=t.x-e.x,a=t.y-e.y;return Math.hypot(o,a)}function to(t,e,o,a){var r=$e(t,o),i=$e(e,a);if(r===0&&i===0)return[t.x,t.y];var u=r/(r+i),s=t.x+u*(e.x-t.x),l=t.y+u*(e.y-t.y);return[s,l]}function oo(t,e,o,a,r,i,u){var s=r.rotate,l=r.scale,m=r.x,g=r.y,f=n.useState(!1),S=F(f,2),p=S[0],w=S[1],b=n.useRef({point1:{x:0,y:0},point2:{x:0,y:0},eventType:"none"}),I=function(d){b.current=P(P({},b.current),d)},c=function(d){if(e){d.stopPropagation(),w(!0);var y=d.touches,C=y===void 0?[]:y;C.length>1?I({point1:{x:C[0].clientX,y:C[0].clientY},point2:{x:C[1].clientX,y:C[1].clientY},eventType:"touchZoom"}):I({point1:{x:C[0].clientX-m,y:C[0].clientY-g},eventType:"move"})}},R=function(d){var y=d.touches,C=y===void 0?[]:y,v=b.current,M=v.point1,O=v.point2,h=v.eventType;if(C.length>1&&h==="touchZoom"){var T={x:C[0].clientX,y:C[0].clientY},L={x:C[1].clientX,y:C[1].clientY},j=to(M,O,T,L),z=F(j,2),Y=z[0],H=z[1],W=$e(T,L)/$e(M,O);u(W,"touchZoom",Y,H,!0),I({point1:T,point2:L,eventType:"touchZoom"})}else h==="move"&&(i({x:C[0].clientX-M.x,y:C[0].clientY-M.y},"move"),I({eventType:"move"}))},E=function(){if(o){if(p&&w(!1),I({eventType:"none"}),a>l)return i({x:0,y:0,scale:a},"touchZoom");var d=t.current.offsetWidth*l,y=t.current.offsetHeight*l,C=t.current.getBoundingClientRect(),v=C.left,M=C.top,O=s%180!==0,h=ct(O?y:d,O?d:y,v,M);h&&i(P({},h),"dragRebound")}};return n.useEffect(function(){var N;return o&&e&&(N=xe(window,"touchmove",function(d){return d.preventDefault()},{passive:!1})),function(){var d;(d=N)===null||d===void 0||d.remove()}},[o,e]),{isTouching:p,onTouchStart:c,onTouchMove:R,onTouchEnd:E}}var no=["fallback","src","imgRef"],ao=["prefixCls","src","alt","imageInfo","fallback","movable","onClose","visible","icons","rootClassName","closeIcon","getContainer","current","count","countRender","scaleStep","minScale","maxScale","transitionName","maskTransitionName","imageRender","imgCommonProps","toolbarRender","onTransform","onChange"],ro=function(e){var o=e.fallback,a=e.src,r=e.imgRef,i=Ie(e,no),u=ut({src:a,fallback:o}),s=F(u,2),l=s[0],m=s[1];return Ce.createElement("img",ae({ref:function(f){r.current=f,l(f)}},i,m))},dt=function(e){var o=e.prefixCls,a=e.src,r=e.alt,i=e.imageInfo,u=e.fallback,s=e.movable,l=s===void 0?!0:s,m=e.onClose,g=e.visible,f=e.icons,S=f===void 0?{}:f,p=e.rootClassName,w=e.closeIcon,b=e.getContainer,I=e.current,c=I===void 0?0:I,R=e.count,E=R===void 0?1:R,N=e.countRender,d=e.scaleStep,y=d===void 0?.5:d,C=e.minScale,v=C===void 0?1:C,M=e.maxScale,O=M===void 0?50:M,h=e.transitionName,T=h===void 0?"zoom":h,L=e.maskTransitionName,j=L===void 0?"fade":L,z=e.imageRender,Y=e.imgCommonProps,H=e.toolbarRender,W=e.onTransform,Q=e.onChange,V=Ie(e,ao),U=n.useRef(),J=n.useContext(Ee),G=J&&E>1,se=J&&E>=1,ee=n.useState(!0),D=F(ee,2),le=D[0],te=D[1],q=Kt(U,v,O,W),k=q.transform,re=q.resetTransform,Z=q.updateTransform,K=q.dispatchZoomChange,ie=Jt(U,l,g,y,k,Z,K),ue=ie.isMoving,$=ie.onMouseDown,A=ie.onWheel,_=oo(U,l,g,v,k,Z,K),B=_.isTouching,X=_.onTouchStart,me=_.onTouchMove,we=_.onTouchEnd,de=k.rotate,fe=k.scale,Ae=ne(ce({},"".concat(o,"-moving"),ue));n.useEffect(function(){le||te(!0)},[le]);var _e=function(){re("close")},ze=function(){K(be+y,"zoomIn")},ve=function(){K(be/(be+y),"zoomOut")},ge=function(){Z({rotate:de+90},"rotateRight")},Oe=function(){Z({rotate:de-90},"rotateLeft")},Ne=function(){Z({flipX:!k.flipX},"flipX")},Te=function(){Z({flipY:!k.flipY},"flipY")},gt=function(){re("reset")},De=function(pe){var Pe=c+pe;!Number.isInteger(Pe)||Pe<0||Pe>E-1||(te(!1),re(pe<0?"prev":"next"),Q==null||Q(Pe,c))},pt=function(pe){!g||!G||(pe.keyCode===Fe.LEFT?De(-1):pe.keyCode===Fe.RIGHT&&De(1))},ht=function(pe){g&&(fe!==1?Z({x:0,y:0,scale:1},"doubleClick"):K(be+y,"doubleClick",pe.clientX,pe.clientY))};n.useEffect(function(){var oe=xe(window,"keydown",pt,!1);return function(){oe.remove()}},[g,G,c]);var Ue=Ce.createElement(ro,ae({},Y,{width:e.width,height:e.height,imgRef:U,className:"".concat(o,"-img"),alt:r,style:{transform:"translate3d(".concat(k.x,"px, ").concat(k.y,"px, 0) scale3d(").concat(k.flipX?"-":"").concat(fe,", ").concat(k.flipY?"-":"").concat(fe,", 1) rotate(").concat(de,"deg)"),transitionDuration:(!le||B)&&"0s"},fallback:u,src:a,onWheel:A,onMouseDown:$,onDoubleClick:ht,onTouchStart:X,onTouchMove:me,onTouchEnd:we,onTouchCancel:we})),Ge=P({url:a,alt:r},i);return Ce.createElement(Ce.Fragment,null,Ce.createElement(Zt,ae({transitionName:T,maskTransitionName:j,closable:!1,keyboard:!0,prefixCls:o,onClose:m,visible:g,classNames:{wrapper:Ae},rootClassName:p,getContainer:b},V,{afterClose:_e}),Ce.createElement("div",{className:"".concat(o,"-img-wrapper")},z?z(Ue,P({transform:k,image:Ge},J?{current:c}:{})):Ue)),Ce.createElement(qt,{visible:g,transform:k,maskTransitionName:j,closeIcon:w,getContainer:b,prefixCls:o,rootClassName:p,icons:S,countRender:N,showSwitch:G,showProgress:se,current:c,count:E,scale:fe,minScale:v,maxScale:O,toolbarRender:H,onActive:De,onZoomIn:ze,onZoomOut:ve,onRotateRight:ge,onRotateLeft:Oe,onFlipX:Ne,onFlipY:Te,onClose:m,onReset:gt,zIndex:V.zIndex!==void 0?V.zIndex+1:void 0,image:Ge}))},He=["crossOrigin","decoding","draggable","loading","referrerPolicy","sizes","srcSet","useMap","alt"];function io(t){var e=n.useState({}),o=F(e,2),a=o[0],r=o[1],i=n.useCallback(function(s,l){return r(function(m){return P(P({},m),{},ce({},s,l))}),function(){r(function(m){var g=P({},m);return delete g[s],g})}},[]),u=n.useMemo(function(){return t?t.map(function(s){if(typeof s=="string")return{data:{src:s}};var l={};return Object.keys(s).forEach(function(m){["src"].concat(At(He)).includes(m)&&(l[m]=s[m])}),{data:l}}):Object.keys(a).reduce(function(s,l){var m=a[l],g=m.canPreview,f=m.data;return g&&s.push({data:f,id:l}),s},[])},[t,a]);return[u,i,!!t]}var so=["visible","onVisibleChange","getContainer","current","movable","minScale","maxScale","countRender","closeIcon","onChange","onTransform","toolbarRender","imageRender"],lo=["src"],co=function(e){var o,a=e.previewPrefixCls,r=a===void 0?"rc-image-preview":a,i=e.children,u=e.icons,s=u===void 0?{}:u,l=e.items,m=e.preview,g=e.fallback,f=at(m)==="object"?m:{},S=f.visible,p=f.onVisibleChange,w=f.getContainer,b=f.current,I=f.movable,c=f.minScale,R=f.maxScale,E=f.countRender,N=f.closeIcon,d=f.onChange,y=f.onTransform,C=f.toolbarRender,v=f.imageRender,M=Ie(f,so),O=io(l),h=F(O,3),T=h[0],L=h[1],j=h[2],z=Ze(0,{value:b}),Y=F(z,2),H=Y[0],W=Y[1],Q=n.useState(!1),V=F(Q,2),U=V[0],J=V[1],G=((o=T[H])===null||o===void 0?void 0:o.data)||{},se=G.src,ee=Ie(G,lo),D=Ze(!!S,{value:S,onChange:function(B,X){p==null||p(B,X,H)}}),le=F(D,2),te=le[0],q=le[1],k=n.useState(null),re=F(k,2),Z=re[0],K=re[1],ie=n.useCallback(function(_,B,X,me){var we=j?T.findIndex(function(de){return de.data.src===B}):T.findIndex(function(de){return de.id===_});W(we<0?0:we),q(!0),K({x:X,y:me}),J(!0)},[T,j]);n.useEffect(function(){te?U||W(0):J(!1)},[te]);var ue=function(B,X){W(B),d==null||d(B,X)},$=function(){q(!1),K(null)},A=n.useMemo(function(){return{register:L,onPreview:ie}},[L,ie]);return n.createElement(Ee.Provider,{value:A},i,n.createElement(dt,ae({"aria-hidden":!te,movable:I,visible:te,prefixCls:r,closeIcon:N,onClose:$,mousePosition:Z,imgCommonProps:ee,src:se,fallback:g,icons:s,minScale:c,maxScale:R,getContainer:w,current:H,count:T.length,countRender:E,onTransform:y,toolbarRender:C,imageRender:v,onChange:ue},M)))},Je=0;function uo(t,e){var o=n.useState(function(){return Je+=1,String(Je)}),a=F(o,1),r=a[0],i=n.useContext(Ee),u={data:e,canPreview:t};return n.useEffect(function(){if(i)return i.register(r,u)},[]),n.useEffect(function(){i&&i.register(r,u)},[t,e]),r}var fo=["src","alt","onPreviewClose","prefixCls","previewPrefixCls","placeholder","fallback","width","height","style","preview","className","onClick","onError","wrapperClassName","wrapperStyle","rootClassName"],mo=["src","visible","onVisibleChange","getContainer","mask","maskClassName","movable","icons","scaleStep","minScale","maxScale","imageRender","toolbarRender"],We=function(e){var o=e.src,a=e.alt,r=e.onPreviewClose,i=e.prefixCls,u=i===void 0?"rc-image":i,s=e.previewPrefixCls,l=s===void 0?"".concat(u,"-preview"):s,m=e.placeholder,g=e.fallback,f=e.width,S=e.height,p=e.style,w=e.preview,b=w===void 0?!0:w,I=e.className,c=e.onClick,R=e.onError,E=e.wrapperClassName,N=e.wrapperStyle,d=e.rootClassName,y=Ie(e,fo),C=m&&m!==!0,v=at(b)==="object"?b:{},M=v.src,O=v.visible,h=O===void 0?void 0:O,T=v.onVisibleChange,L=T===void 0?r:T,j=v.getContainer,z=j===void 0?void 0:j,Y=v.mask,H=v.maskClassName,W=v.movable,Q=v.icons,V=v.scaleStep,U=v.minScale,J=v.maxScale,G=v.imageRender,se=v.toolbarRender,ee=Ie(v,mo),D=M??o,le=Ze(!!h,{value:h,onChange:L}),te=F(le,2),q=te[0],k=te[1],re=ut({src:o,isCustomPlaceholder:C,fallback:g}),Z=F(re,3),K=Z[0],ie=Z[1],ue=Z[2],$=n.useState(null),A=F($,2),_=A[0],B=A[1],X=n.useContext(Ee),me=!!b,we=function(){k(!1),B(null)},de=ne(u,E,d,ce({},"".concat(u,"-error"),ue==="error")),fe=n.useMemo(function(){var ve={};return He.forEach(function(ge){e[ge]!==void 0&&(ve[ge]=e[ge])}),ve},He.map(function(ve){return e[ve]})),Ae=n.useMemo(function(){return P(P({},fe),{},{src:D})},[D,fe]),_e=uo(me,Ae),ze=function(ge){var Oe=Gt(ge.target),Ne=Oe.left,Te=Oe.top;X?X.onPreview(_e,D,Ne,Te):(B({x:Ne,y:Te}),k(!0)),c==null||c(ge)};return n.createElement(n.Fragment,null,n.createElement("div",ae({},y,{className:de,onClick:me?ze:c,style:P({width:f,height:S},N)}),n.createElement("img",ae({},fe,{className:ne("".concat(u,"-img"),ce({},"".concat(u,"-img-placeholder"),m===!0),I),style:P({height:S},p),ref:K},ie,{width:f,height:S,onError:R})),ue==="loading"&&n.createElement("div",{"aria-hidden":"true",className:"".concat(u,"-placeholder")},m),Y&&me&&n.createElement("div",{className:ne("".concat(u,"-mask"),H),style:{display:(p==null?void 0:p.display)==="none"?"none":void 0}},Y)),!X&&me&&n.createElement(dt,ae({"aria-hidden":!q,visible:q,prefixCls:l,onClose:we,mousePosition:_,src:D,alt:a,imageInfo:{width:f,height:S},fallback:g,getContainer:z,icons:Q,movable:W,scaleStep:V,minScale:U,maxScale:J,rootClassName:d,imageRender:G,imgCommonProps:fe,toolbarRender:se},ee)))};We.PreviewGroup=co;var vo={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M672 418H144c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32zm-44 402H188V494h440v326z"}},{tag:"path",attrs:{d:"M819.3 328.5c-78.8-100.7-196-153.6-314.6-154.2l-.2-64c0-6.5-7.6-10.1-12.6-6.1l-128 101c-4 3.1-3.9 9.1 0 12.3L492 318.6c5.1 4 12.7.4 12.6-6.1v-63.9c12.9.1 25.9.9 38.8 2.5 42.1 5.2 82.1 18.2 119 38.7 38.1 21.2 71.2 49.7 98.4 84.3 27.1 34.7 46.7 73.7 58.1 115.8a325.95 325.95 0 016.5 140.9h74.9c14.8-103.6-11.3-213-81-302.3z"}}]},name:"rotate-left",theme:"outlined"},go=function(e,o){return n.createElement(Me,ae({},e,{ref:o,icon:vo}))},po=n.forwardRef(go),ho={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M480.5 251.2c13-1.6 25.9-2.4 38.8-2.5v63.9c0 6.5 7.5 10.1 12.6 6.1L660 217.6c4-3.2 4-9.2 0-12.3l-128-101c-5.1-4-12.6-.4-12.6 6.1l-.2 64c-118.6.5-235.8 53.4-314.6 154.2A399.75 399.75 0 00123.5 631h74.9c-.9-5.3-1.7-10.7-2.4-16.1-5.1-42.1-2.1-84.1 8.9-124.8 11.4-42.2 31-81.1 58.1-115.8 27.2-34.7 60.3-63.2 98.4-84.3 37-20.6 76.9-33.6 119.1-38.8z"}},{tag:"path",attrs:{d:"M880 418H352c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32zm-44 402H396V494h440v326z"}}]},name:"rotate-right",theme:"outlined"},wo=function(e,o){return n.createElement(Me,ae({},e,{ref:o,icon:ho}))},Co=n.forwardRef(wo),So={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M847.9 592H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h605.2L612.9 851c-4.1 5.2-.4 13 6.3 13h72.5c4.9 0 9.5-2.2 12.6-6.1l168.8-214.1c16.5-21 1.6-51.8-25.2-51.8zM872 356H266.8l144.3-183c4.1-5.2.4-13-6.3-13h-72.5c-4.9 0-9.5 2.2-12.6 6.1L150.9 380.2c-16.5 21-1.6 51.8 25.1 51.8h696c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"}}]},name:"swap",theme:"outlined"},xo=function(e,o){return n.createElement(Me,ae({},e,{ref:o,icon:So}))},et=n.forwardRef(xo),bo={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M637 443H519V309c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v134H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h118v134c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V519h118c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z"}}]},name:"zoom-in",theme:"outlined"},Io=function(e,o){return n.createElement(Me,ae({},e,{ref:o,icon:bo}))},yo=n.forwardRef(Io),Ro={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M637 443H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h312c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z"}}]},name:"zoom-out",theme:"outlined"},Mo=function(e,o){return n.createElement(Me,ae({},e,{ref:o,icon:Ro}))},Eo=n.forwardRef(Mo);const Be=t=>({position:t||"absolute",inset:0}),Oo=t=>{const{iconCls:e,motionDurationSlow:o,paddingXXS:a,marginXXS:r,prefixCls:i,colorTextLightSolid:u}=t;return{position:"absolute",inset:0,display:"flex",alignItems:"center",justifyContent:"center",color:u,background:new Se("#000").setA(.5).toRgbString(),cursor:"pointer",opacity:0,transition:`opacity ${o}`,[`.${i}-mask-info`]:Object.assign(Object.assign({},zt),{padding:`0 ${rt(a)}`,[e]:{marginInlineEnd:r,svg:{verticalAlign:"baseline"}}})}},No=t=>{const{previewCls:e,modalMaskBg:o,paddingSM:a,marginXL:r,margin:i,paddingLG:u,previewOperationColorDisabled:s,previewOperationHoverColor:l,motionDurationSlow:m,iconCls:g,colorTextLightSolid:f}=t,S=new Se(o).setA(.1),p=S.clone().setA(.2);return{[`${e}-footer`]:{position:"fixed",bottom:r,left:{_skip_check_:!0,value:"50%"},display:"flex",flexDirection:"column",alignItems:"center",color:t.previewOperationColor,transform:"translateX(-50%)"},[`${e}-progress`]:{marginBottom:i},[`${e}-close`]:{position:"fixed",top:r,right:{_skip_check_:!0,value:r},display:"flex",color:f,backgroundColor:S.toRgbString(),borderRadius:"50%",padding:a,outline:0,border:0,cursor:"pointer",transition:`all ${m}`,"&:hover":{backgroundColor:p.toRgbString()},[`& > ${g}`]:{fontSize:t.previewOperationSize}},[`${e}-operations`]:{display:"flex",alignItems:"center",padding:`0 ${rt(u)}`,backgroundColor:S.toRgbString(),borderRadius:100,"&-operation":{marginInlineStart:a,padding:a,cursor:"pointer",transition:`all ${m}`,userSelect:"none",[`&:not(${e}-operations-operation-disabled):hover > ${g}`]:{color:l},"&-disabled":{color:s,cursor:"not-allowed"},"&:first-of-type":{marginInlineStart:0},[`& > ${g}`]:{fontSize:t.previewOperationSize}}}}},To=t=>{const{modalMaskBg:e,iconCls:o,previewOperationColorDisabled:a,previewCls:r,zIndexPopup:i,motionDurationSlow:u}=t,s=new Se(e).setA(.1),l=s.clone().setA(.2);return{[`${r}-switch-left, ${r}-switch-right`]:{position:"fixed",insetBlockStart:"50%",zIndex:t.calc(i).add(1).equal(),display:"flex",alignItems:"center",justifyContent:"center",width:t.imagePreviewSwitchSize,height:t.imagePreviewSwitchSize,marginTop:t.calc(t.imagePreviewSwitchSize).mul(-1).div(2).equal(),color:t.previewOperationColor,background:s.toRgbString(),borderRadius:"50%",transform:"translateY(-50%)",cursor:"pointer",transition:`all ${u}`,userSelect:"none","&:hover":{background:l.toRgbString()},"&-disabled":{"&, &:hover":{color:a,background:"transparent",cursor:"not-allowed",[`> ${o}`]:{cursor:"not-allowed"}}},[`> ${o}`]:{fontSize:t.previewOperationSize}},[`${r}-switch-left`]:{insetInlineStart:t.marginSM},[`${r}-switch-right`]:{insetInlineEnd:t.marginSM}}},Po=t=>{const{motionEaseOut:e,previewCls:o,motionDurationSlow:a,componentCls:r}=t;return[{[`${r}-preview-root`]:{[o]:{height:"100%",textAlign:"center",pointerEvents:"none"},[`${o}-body`]:Object.assign(Object.assign({},Be()),{overflow:"hidden"}),[`${o}-img`]:{maxWidth:"100%",maxHeight:"70%",verticalAlign:"middle",transform:"scale3d(1, 1, 1)",cursor:"grab",transition:`transform ${a} ${e} 0s`,userSelect:"none","&-wrapper":Object.assign(Object.assign({},Be()),{transition:`transform ${a} ${e} 0s`,display:"flex",justifyContent:"center",alignItems:"center","& > *":{pointerEvents:"auto"},"&::before":{display:"inline-block",width:1,height:"50%",marginInlineEnd:-1,content:'""'}})},[`${o}-moving`]:{[`${o}-preview-img`]:{cursor:"grabbing","&-wrapper":{transitionDuration:"0s"}}}}},{[`${r}-preview-root`]:{[`${o}-wrap`]:{zIndex:t.zIndexPopup}}},{[`${r}-preview-operations-wrapper`]:{position:"fixed",zIndex:t.calc(t.zIndexPopup).add(1).equal()},"&":[No(t),To(t)]}]},jo=t=>{const{componentCls:e}=t;return{[e]:{position:"relative",display:"inline-block",[`${e}-img`]:{width:"100%",height:"auto",verticalAlign:"middle"},[`${e}-img-placeholder`]:{backgroundColor:t.colorBgContainerDisabled,backgroundImage:"url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJNMTQuNSAyLjVoLTEzQS41LjUgMCAwIDAgMSAzdjEwYS41LjUgMCAwIDAgLjUuNWgxM2EuNS41IDAgMCAwIC41LS41VjNhLjUuNSAwIDAgMC0uNS0uNXpNNS4yODEgNC43NWExIDEgMCAwIDEgMCAyIDEgMSAwIDAgMSAwLTJ6bTguMDMgNi44M2EuMTI3LjEyNyAwIDAgMS0uMDgxLjAzSDIuNzY5YS4xMjUuMTI1IDAgMCAxLS4wOTYtLjIwN2wyLjY2MS0zLjE1NmEuMTI2LjEyNiAwIDAgMSAuMTc3LS4wMTZsLjAxNi4wMTZMNy4wOCAxMC4wOWwyLjQ3LTIuOTNhLjEyNi4xMjYgMCAwIDEgLjE3Ny0uMDE2bC4wMTUuMDE2IDMuNTg4IDQuMjQ0YS4xMjcuMTI3IDAgMCAxLS4wMi4xNzV6IiBmaWxsPSIjOEM4QzhDIiBmaWxsLXJ1bGU9Im5vbnplcm8iLz48L3N2Zz4=')",backgroundRepeat:"no-repeat",backgroundPosition:"center center",backgroundSize:"30%"},[`${e}-mask`]:Object.assign({},Oo(t)),[`${e}-mask:hover`]:{opacity:1},[`${e}-placeholder`]:Object.assign({},Be())}}},Lo=t=>{const{previewCls:e}=t;return{[`${e}-root`]:It(t,"zoom"),"&":Bt(t,!0)}},ko=t=>({zIndexPopup:t.zIndexPopupBase+80,previewOperationColor:new Se(t.colorTextLightSolid).setA(.65).toRgbString(),previewOperationHoverColor:new Se(t.colorTextLightSolid).setA(.85).toRgbString(),previewOperationColorDisabled:new Se(t.colorTextLightSolid).setA(.25).toRgbString(),previewOperationSize:t.fontSizeIcon*1.5}),ft=_t("Image",t=>{const e=`${t.componentCls}-preview`,o=qe(t,{previewCls:e,modalMaskBg:new Se("#000").setA(.45).toRgbString(),imagePreviewSwitchSize:t.controlHeightLG});return[jo(o),Po(o),Ht(qe(o,{componentCls:e})),Lo(o)]},ko);var $o=function(t,e){var o={};for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&e.indexOf(a)<0&&(o[a]=t[a]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,a=Object.getOwnPropertySymbols(t);r<a.length;r++)e.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(t,a[r])&&(o[a[r]]=t[a[r]]);return o};const mt={rotateLeft:n.createElement(po,null),rotateRight:n.createElement(Co,null),zoomIn:n.createElement(yo,null),zoomOut:n.createElement(Eo,null),close:n.createElement(Dt,null),left:n.createElement(Xe,null),right:n.createElement(Ye,null),flipX:n.createElement(et,null),flipY:n.createElement(et,{rotate:90})},Ao=t=>{var{previewPrefixCls:e,preview:o}=t,a=$o(t,["previewPrefixCls","preview"]);const{getPrefixCls:r,direction:i}=n.useContext(Yt),u=r("image",e),s=`${u}-preview`,l=r(),m=it(u),[g,f,S]=ft(u,m),[p]=st("ImagePreview",typeof o=="object"?o.zIndex:void 0),w=n.useMemo(()=>Object.assign(Object.assign({},mt),{left:i==="rtl"?n.createElement(Ye,null):n.createElement(Xe,null),right:i==="rtl"?n.createElement(Xe,null):n.createElement(Ye,null)}),[i]),b=n.useMemo(()=>{var I;if(o===!1)return o;const c=typeof o=="object"?o:{},R=ne(f,S,m,(I=c.rootClassName)!==null&&I!==void 0?I:"");return Object.assign(Object.assign({},c),{transitionName:ke(l,"zoom",c.transitionName),maskTransitionName:ke(l,"fade",c.maskTransitionName),rootClassName:R,zIndex:p})},[o,l,p,f,S,m]);return g(n.createElement(We.PreviewGroup,Object.assign({preview:b,previewPrefixCls:s,icons:w},a)))};var tt=function(t,e){var o={};for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&e.indexOf(a)<0&&(o[a]=t[a]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,a=Object.getOwnPropertySymbols(t);r<a.length;r++)e.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(t,a[r])&&(o[a[r]]=t[a[r]]);return o};const vt=t=>{const{prefixCls:e,preview:o,className:a,rootClassName:r,style:i,fallback:u}=t,s=tt(t,["prefixCls","preview","className","rootClassName","style","fallback"]),{getPrefixCls:l,getPopupContainer:m,className:g,style:f,preview:S,fallback:p}=Xt("image"),[w]=yt("Image"),b=l("image",e),I=l(),c=it(b),[R,E,N]=ft(b,c),d=ne(r,E,N,c),y=ne(a,E,g),[C]=st("ImagePreview",typeof o=="object"?o.zIndex:void 0),v=n.useMemo(()=>{if(o===!1)return o;const h=typeof o=="object"?o:{},{getContainer:T,closeIcon:L,rootClassName:j,destroyOnClose:z,destroyOnHidden:Y}=h,H=tt(h,["getContainer","closeIcon","rootClassName","destroyOnClose","destroyOnHidden"]);return Object.assign(Object.assign({mask:n.createElement("div",{className:`${b}-mask-info`},n.createElement(Rt,null),w==null?void 0:w.preview),icons:mt},H),{destroyOnClose:Y??z,rootClassName:ne(d,j),getContainer:T??m,transitionName:ke(I,"zoom",h.transitionName),maskTransitionName:ke(I,"fade",h.maskTransitionName),zIndex:C,closeIcon:L??(S==null?void 0:S.closeIcon)})},[o,w,S==null?void 0:S.closeIcon]),M=Object.assign(Object.assign({},f),i),O=u??p;return R(n.createElement(We,Object.assign({prefixCls:b,preview:v,rootClassName:d,className:y,style:M,fallback:O},s)))};vt.PreviewGroup=Ao;const{TextArea:_o}=Ve,zo=({visible:t,onSubmit:e,initialData:o})=>{const[a]=ye.useForm(),[r,i]=n.useState([]);n.useEffect(()=>{o&&t?(a.setFieldsValue({title:o.title,description:o.description}),i(o.image?[{uid:"-1",name:"Existing Image",status:"done",url:o.image}]:[])):(a.resetFields(),i([]))},[o,a,t]);const u=async s=>{try{const l=new FormData;if(l.append("title",s.title),l.append("description",s.description),r.length>0&&r[0].originFileObj)l.append("image",r[0].originFileObj);else if(!o){he.error("Please upload an image");return}await e(l,o==null?void 0:o._id)}catch{he.error("Something went wrong while saving salon information")}};return x.jsxs(ye,{form:a,layout:"vertical",onFinish:u,className:"about-salon-form",children:[x.jsx("div",{style:{marginBottom:16,textAlign:"center"},children:x.jsx(ot,{icon:x.jsx(nt,{}),color:"blue",style:{fontSize:"14px",padding:"8px 16px"},children:"About Our Salon Information"})}),x.jsx(ye.Item,{label:"Title",name:"title",rules:[{required:!0,message:"Please enter title"}],children:x.jsx(Ve,{placeholder:"Enter title (e.g., Our Story, About Us, Welcome to Our Salon)"})}),x.jsx(ye.Item,{label:"Description",name:"description",rules:[{required:!0,message:"Please enter description"}],children:x.jsx(_o,{rows:6,placeholder:"Enter detailed description about your salon, services, history, team, etc.",showCount:!0,maxLength:2e3})}),x.jsxs(ye.Item,{label:"Salon Image",rules:o?[]:[{required:!0,message:"Please upload an image"}],extra:"Upload a high-quality image that represents your salon",children:[x.jsx(Et,{listType:"picture",maxCount:1,fileList:r,onChange:({fileList:s})=>i(s),beforeUpload:()=>!1,accept:"image/*",children:x.jsx(Re,{icon:x.jsx(Pt,{}),children:o?"Change Image":"Select Image"})}),!o&&x.jsx("div",{style:{color:"#999",fontSize:"12px",marginTop:"4px"},children:"Image is required for new salon information"})]}),x.jsx("button",{type:"submit",style:{display:"none"},className:"about-salon-form-submit-button"})]})},{Search:Do}=Ve,Qo=()=>{const t=wt(),{aboutSalons:e=[],loading:o=!1,error:a=null}=Ct(c=>c.aboutSalons),[r,i]=n.useState(!1),[u,s]=n.useState(null),[l,m]=n.useState(""),[g,f]=n.useState(!1);n.useEffect(()=>{t(je())},[t]),n.useEffect(()=>{a&&he.error(a)},[a]);const S=async(c,R)=>{try{f(!0),R?(await t(St({id:R,formData:c})).unwrap(),he.success("âœ… Salon information updated successfully")):(await t(xt(c)).unwrap(),he.success("âœ… Salon information added successfully")),i(!1),s(null),t(je())}catch(E){he.error(E||"Operation failed")}finally{f(!1)}},p=async c=>{try{await t(bt(c)).unwrap(),he.success("ðŸ—‘ï¸ Salon information deleted successfully"),t(je())}catch{he.error("Failed to delete salon information")}},w=()=>{const c=document.querySelector(".about-salon-form-submit-button");c&&c.click()},b=e.filter(c=>c.title.toLowerCase().includes(l.toLowerCase())||c.description.toLowerCase().includes(l.toLowerCase())),I=[{title:"Image",dataIndex:"image",key:"image",render:c=>c?x.jsx(vt,{src:c,alt:"salon",width:80,height:60,style:{borderRadius:6,objectFit:"cover"},preview:!0}):x.jsx(ot,{color:"red",children:"No Image"})},{title:"Title",dataIndex:"title",key:"title"},{title:"Description",dataIndex:"description",key:"description",ellipsis:!0,render:c=>x.jsx("div",{style:{maxWidth:300},children:c.length>100?`${c.substring(0,100)}...`:c})},{title:"Created",dataIndex:"createdAt",key:"createdAt",render:c=>new Date(c).toLocaleDateString()},{title:"Actions",key:"actions",render:(c,R)=>x.jsxs(Ke,{children:[x.jsx(Re,{type:"primary",icon:x.jsx(Mt,{}),onClick:()=>{s(R),i(!0)}}),x.jsx(Nt,{title:"Are you sure to delete this salon information?",onConfirm:()=>p(R._id),okText:"Yes",cancelText:"No",children:x.jsx(Re,{danger:!0,icon:x.jsx(Tt,{})})})]})}];return x.jsxs(Ft,{title:x.jsxs("span",{children:[x.jsx(nt,{style:{marginRight:8}}),"About Our Salon Management (",e.length," entries)"]}),extra:x.jsxs(Ke,{children:[x.jsx(Re,{icon:x.jsx(Wt,{}),onClick:()=>t(je()),loading:o,children:"Refresh"}),x.jsx(Re,{type:"primary",icon:x.jsx(Ut,{}),onClick:()=>{s(null),i(!0)},children:"Add Salon Info"})]}),children:[x.jsx(Do,{placeholder:"Search salon information...",value:l,onChange:c=>m(c.target.value),allowClear:!0,style:{marginBottom:16,width:"50%"}}),x.jsx(Ot,{rowKey:"_id",columns:I,dataSource:b,loading:o,pagination:{pageSize:5},locale:{emptyText:"No salon information found"}}),x.jsx(Vt,{title:u?"Edit Salon Information":"Add Salon Information",open:r,onCancel:()=>{i(!1),s(null)},onOk:w,okText:u?"Update":"Create",confirmLoading:g,width:700,destroyOnClose:!0,children:x.jsx(zo,{visible:r,onCancel:()=>{i(!1),s(null)},onSubmit:S,initialData:u,loading:g})})]})};export{Qo as default};
